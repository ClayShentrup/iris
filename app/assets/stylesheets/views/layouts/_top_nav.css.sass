$results_margin_inner: rem(40)
$results_margin_offset: -($results_margin_inner)
$nav_btn_min_width: rem(96)

#top_nav
  +display(flex)

  .sessions &,
  body[data-view-name="menus-show"] &,
  body[data-view-name="admins-show"] &,
  body[data-view-name="infos-show"] &,
  body[data-view-name="settings-show"] &,
  body[data-view-name*="registrations-edit"] &
    @extend .hidden

  a
    @extend .block
    &.hide_on_mobile
      @extend .hide_on_mobile
    &.hide_on_tablet_portrait
      @extend .hide_on_tablet_portrait
    &.hide_on_desktop
      @extend .hide_on_desktop

  .news_feed,
  .metrics,
  .search
    +flex-grow(1)

  .news_feed a,
  .metrics a
    min-width: $nav_btn_min_width
    +media($tablet_portrait_and_desktop)
      min-width: $nav_btn_min_width * 2

  .news_feed a
    +media($mobile)
      border-left: 0

  .menu_icon,
  .search_starting_width
    max-width: $line_height_buffer_base
    width: $line_height_buffer_base

  .logo,
    +media($mobile)
      width: $line_height_buffer_base

  .search
    input
      height: $line_height_buffer_base

    .search_results_container
      position: relative

    ul.results
      margin-left: $results_margin_offset
      position: absolute
      width: 135%
      z-index: 900
      @extend .inner_padding_small
      +media($tablet_portrait_and_desktop)
        width: 100%

      ul.measures
        margin-left: $buffer_large

      > li.category
        > a
          line-height: $icon_size_base

        > ul.measures
          margin-left: $results_margin_inner + rem(27)

      .icon
        margin-right: $buffer_base

.search_background
  background-color: $white
  position: absolute
  width: 100%
  +calc(margin-top, "-#{$buffer_base}")

svg
  #top_nav .logo &
    width: $icon_size_xs
    +media($tablet_portrait_and_desktop)
      width: rem(70)

  #top_nav .menu_icon &
    width: $icon_size_small
