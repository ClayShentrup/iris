=input_focus($border_color, $box_shadow_color)
  border-color: $border_color
  box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px $box_shadow_color
  outline: 0

form
  label
    display: inline-block
    font-weight: bold
    @extend .bottom_margin_small

  .field_with_errors
    input
      border-color: $error

      &:focus
        +input_focus($error, lighten($error, 20%))

  select,
  .form_control
    background-color: $input_bg
    border-radius: $input_border_radius_base
    box-shadow: inset 0 1px 1px rgba(0,0,0,.075)
    color: $input_color
    display: block
    font-size: $font_size_base
    height: $input_height_base
    line-height: $line_height_base
    padding: $padding_base_vertical $padding_base_horizontal
    width: 100%
    @extend .border_grey
    @extend .bottom_margin_base
    +transition(border-color ease-in-out .15s, box-shadow ease-in-out .15s)

    &:focus
      +input_focus($brand_color_primary, $brand_color_primary_light)

    &.no_border
      border-width: 0
      box-shadow: none
      padding-left: 0

    &.no_margin
      @extend .no_margin

      &:focus
        box-shadow: none
        outline: 0

  .disabled
    background: $grey_lighter
    color: $grey_darker

  .has_icon_inside
    position: relative

    .form_control
      padding-right: $input_height_base * 1.25

    .form_control_icon
      position: absolute
      right: $padding_base_horizontal
      top: $padding_base_vertical

  .has_icon
    .form_control
      line-height: $line_height_buffer_base
      padding: 0
      +calc(width, "100% - (#{$input_height_base} * 1.25)")

    .form_control_icon
      @extend .no_margin

  .has_two_icons
    .form_control
      display: inline
      +calc(width, "100% - ((#{$input_height_base} * 1.25) * 2)")

  .has_icon,
  .has_two_icons
    label
      & ~ .form_control_icon
        top: $line_height_computed + .4

  .actions
    @extend .top_margin_base
    @extend .bottom_margin_base

  textarea.form_control
    height: auto
